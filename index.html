
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Derrida documentation &#8212; Derrida 1.2.3 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Architecture" href="architecture.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="derrida-documentation">
<h1>Derrida documentation<a class="headerlink" href="#derrida-documentation" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="codedocs.html">Code Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Change Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="deploynotes.html">Deploy and Upgrade notes</a></li>
</ul>
</div>
<p>Django web application for <a class="reference external" href="https://derridas-margins.princeton.edu/">Derrida’s Margins</a>
a <a class="reference external" href="https://cdh.princeton.edu/projects/derridas-margins/">DH project sponsored by CDH</a>.</p>
<a class="reference external image-reference" href="https://zenodo.org/badge/latestdoi/83320273"><img alt="DOI: 10.5281/zenodo.1299972" src="https://zenodo.org/badge/83320273.svg" /></a>
<a class="reference external image-reference" href="https://travis-ci.org/Princeton-CDH/derrida-django"><img alt="Build status" src="https://travis-ci.org/Princeton-CDH/derrida-django.svg?branch=master" /></a>
<a class="reference external image-reference" href="https://codecov.io/gh/Princeton-CDH/derrida-django"><img alt="Code coverage" src="https://codecov.io/gh/Princeton-CDH/derrida-django/branch/master/graph/badge.svg" /></a>
<a class="reference external image-reference" href="https://codeclimate.com/github/Princeton-CDH/derrida-django/maintainability"><img alt="Maintainability" src="https://api.codeclimate.com/v1/badges/1cb1a007da663863e326/maintainability" /></a>
<a class="reference external image-reference" href="https://requires.io/github/Princeton-CDH/derrida-django/requirements/?branch=master"><img alt="Requirements Status" src="https://requires.io/github/Princeton-CDH/derrida-django/requirements.svg?branch=master" /></a>
<p><a class="reference external" href="https://princeton-cdh.github.io/derrida-django/">Current release documentation</a>.</p>
<p>This repository uses <a class="reference external" href="https://github.com/nvie/gitflow">git-flow</a> conventions; master
contains the most recent release, and work in progress will be on the develop branch.
Pull requests should be made against develop.</p>
<p>Python 3.5 / Django 1.11 / Node 8.16.0 / MariaDB (MySQL) 5.5 w/ timezone info</p>
<div class="section" id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h2>
<p><strong>derrida-django</strong> is distributed under the Apache 2.0 License.</p>
<p>©2018 Trustees of Princeton University.  Permission granted via
Princeton Docket #18-3472-1 for distribution online under a standard Open Source
license.  Ownership rights transferred to Rebecca Koeser provided software
is distributed online via open source.</p>
</div>
<div class="section" id="development-instructions">
<h2>Development instructions<a class="headerlink" href="#development-instructions" title="Permalink to this headline">¶</a></h2>
<p>Initial setup and installation:</p>
<ul>
<li><p><strong>recommended:</strong> create and activate a python 3.5 virtualenv:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">virtualenv</span> <span class="n">derrida</span> <span class="o">-</span><span class="n">p</span> <span class="n">python3</span><span class="o">.</span><span class="mi">5</span>
<span class="n">source</span> <span class="n">derrida</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">activate</span>
</pre></div>
</div>
</li>
<li><p>Use pip to install required python dependencies:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">r</span> <span class="n">requirements</span><span class="o">.</span><span class="n">txt</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">r</span> <span class="n">dev</span><span class="o">-</span><span class="n">requirements</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
</li>
<li><p>Copy sample local settings and configure for your environment:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cp</span> <span class="n">derrida</span><span class="o">/</span><span class="n">local_settings</span><span class="o">.</span><span class="n">py</span><span class="o">.</span><span class="n">sample</span> <span class="n">derrida</span><span class="o">/</span><span class="n">local_settings</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</li>
<li><p>Download required fonts from project folder and add to <cite>/sitemedia/fonts</cite></p></li>
<li><p>Create a database, configure in local settings, and run migrations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">manage</span><span class="o">.</span><span class="n">py</span> <span class="n">migrate</span>
</pre></div>
</div>
</li>
<li><p>Create a Solr core, configure it, and index content:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">manage</span><span class="o">.</span><span class="n">py</span> <span class="n">build_solr_schema</span> <span class="o">--</span><span class="n">configure</span><span class="o">-</span><span class="n">directory</span><span class="o">=/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">solr</span><span class="o">/</span><span class="n">derrida</span><span class="o">/</span><span class="n">conf</span> <span class="o">--</span><span class="n">reload</span><span class="o">-</span><span class="n">core</span> <span class="n">derrida</span>
<span class="n">python</span> <span class="n">manage</span><span class="o">.</span><span class="n">py</span> <span class="n">rebuild_index</span> <span class="o">--</span><span class="n">noinput</span>
</pre></div>
</div>
</li>
<li><p>If running this application on MariaDB/MySQL, you must make sure that
time zone definitions are installed. On most flavors of Linux/MacOS,
you may use the following command, which will prompt
for the database server’s root password:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mysql_tzinfo_to_sql</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">zoneinfo</span> <span class="o">|</span> <span class="n">mysql</span> <span class="o">-</span><span class="n">u</span> <span class="n">root</span> <span class="n">mysql</span> <span class="o">-</span><span class="n">p</span>
</pre></div>
</div>
<p>If this command does not work, make sure you have the command line utilities
for MariaDB/MySQL installed and consult the documentation for your OS for
timezone info. Windows users will need to install a copy of the zoneinfo
files.</p>
<p>See <a class="reference external" href="https://mariadb.com/kb/en/library/mysql_tzinfo_to_sql/">MariaDB</a>’s
info on the utility for more information.</p>
</li>
</ul>
<div class="section" id="unit-tests">
<h3>Unit Tests<a class="headerlink" href="#unit-tests" title="Permalink to this headline">¶</a></h3>
<p>Unit tests are written with <a class="reference external" href="http://doc.pytest.org/">py.test</a> but use
Django fixture loading and convenience testing methods when that makes
things easier. To run them, first install development requirements:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">r</span> <span class="n">dev</span><span class="o">-</span><span class="n">requirements</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>Configure a Solr core for testing and update with the built solr schema
using the same build_solr_schema manage command as for development, above.
(The test Solr core will be cleared and reindexed for tests of functionality
that require Solr.)  Any new unit tests that require Solr should use Django
<cite>override_settings</cite> to use the test connection.</p>
<p>Run tests using py.test:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">py</span><span class="o">.</span><span class="n">test</span>
</pre></div>
</div>
</div>
<div class="section" id="documentation">
<h3>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h3>
<p>Documentation is generated using <a class="reference external" href="http://www.sphinx-doc.org/">sphinx</a>
To generate documentation, first install development requirements:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">r</span> <span class="n">dev</span><span class="o">-</span><span class="n">requirements</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>Then build the documentation using the customized make file in the <cite>docs</cite>
directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">sphinx</span><span class="o">-</span><span class="n">docs</span>
<span class="n">make</span> <span class="n">html</span>
</pre></div>
</div>
<p>When building documentation for a production release, use <cite>make docs</cite> to
update the published documentation on GitHub Pages.</p>
</div>
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">Derrida</a></h1>



<p class="blurb">Django web application for "Derrida's Margins" CDH project</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=Princeton-CDH&repo=derrida-django&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





    

<p>
<a class="badge" href="https://travis-ci.org/Princeton-CDH/derrida-django">
    <img
        alt="https://secure.travis-ci.org/Princeton-CDH/derrida-django.svg?branch=master"
        src="https://secure.travis-ci.org/Princeton-CDH/derrida-django.svg?branch=master"
    />
</a>
</p>




    

<p>
<a class="badge" href="https://codecov.io/github/Princeton-CDH/derrida-django">
    <img
    alt="https://codecov.io/github/Princeton-CDH/derrida-django/coverage.svg?branch=master"
    src="https://codecov.io/github/Princeton-CDH/derrida-django/coverage.svg?branch=master"
    />
</a>
</p>
<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="codedocs.html">Code Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Change Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="deploynotes.html">Deploy and Upgrade notes</a></li>
</ul>


  <h3><a href="#">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Derrida documentation</a><ul>
<li><a class="reference internal" href="#license">License</a></li>
<li><a class="reference internal" href="#development-instructions">Development instructions</a><ul>
<li><a class="reference internal" href="#unit-tests">Unit Tests</a></li>
<li><a class="reference internal" href="#documentation">Documentation</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, CDH @ Princeton & Trustees of Princeton University.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>